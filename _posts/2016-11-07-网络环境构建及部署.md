---
layout: single
title: 网络环境构建及部署
description: 工作中总结
tags: 性能及防宕机
---

# 总体说明
>其实，说到网络环境构建及部署。就是一个性能、并发防宕机，还有一个就是防止自然灾害。
因为并发和性能，我们用到了分布式部署、集群部署；实在有什么天灾人祸，就是同城备份。甚至是两城三备份。
得益于OGG技术，在数据库的层面，可以实现秒级甚至是亚秒级的同步。

## 分布式部署
>这种方式是在编程技术方面着力，通过使用EJB/JMS/WebService等技术，将一个产品或者系统包含的各大模块分别部署在不同的服务器上，作用就是降低单台服务器的压力。
在一台服务器上部署整个的应用，通过同步调用/异步调用等技术，将系统切割成多个子系统。分别部署在多个服务器上。整个系统的均衡判断，是基于对业务的判断，核心业务、高频业务分配的资源更好更多。

## 集群部署
>这个是说，在所有的服务器上都部署完整的系统。任何一台服务器都能提供完整的系统功能。在所有的服务器的前面，部署一个服务器集群管理系统，能自动监控每台服务器的运行状态，并以此作为进行转发的依据。
整个的负载均衡，是由负载均衡管理系统来处理的---就是集群管理系统。

## WAR集群与EJB集群
>这个讲的就是WEB还是EJB组件，因为EJB都是通过跨服务器调用，所以可以不用考虑Session的问题。
而WAR集群，因为涉及到的是用户的入口。在不同的服务器之间进行跳转，涉及到Session复制/同步的问题。

## 带宽
>说明，任何一次的接入都是会占用到网络的的。说某个机房的带宽，指能同时允许多少个用户或者IP接入。一套系统能支持多少，这个需要综合评估，不仅是应用程序/服务器能支撑多少，还有就是机房的带宽能支撑多少

# 集群部署与单机部署对编程技术的要求
>无法使用单例模式，Spring也无法使用，可以使用也变得很复杂。

# 比较标准的网络环境部署
>标准的JavaEE集群，一般情况下是这样的。 
>入口是一个负载均衡器（有时候也用apache之类的），然后是若干台web服务器（如Tomcat），再后边是EJB集群。最后是数据库。



