---
layout: single
title: 系统访问控制介绍
tags: 安全管理
description: 了解在做安全管理的过程中，我们所使用的管理控制结构和方法
---
# 安全管理整体说明
> 安全管理：计算机技术安全管理的范围很广，可以包括**网络安全性、数据安全性、操作系统安全性以及应用程序安全性**等。很多方面的安全性管理大都已经有成熟的产品了，我们只需根据自己需要有选择性的使用就可达到自己的目的了。本篇聚焦在

## 基本概念
主体：即可以象应用系统发出应用请求任何实体，包括各种用户、其它与本系统有接口的应用程序、非法入侵者。
> 系统必须具有识别主体的能力，接口实际上也是由用户登记的，故主要问题是校验用户身份的合法性，系统应建立用户**鉴别机构**以验证用户身份。

### 系统权限
1. 权限：权限是对计算机系统中的数据或者用数据表示的其它资源进行访问的许可。我们用PERMISSION表示一个权限集合。可分为**对象访问控制和数据访问控制**两种。
2. 对象访问控制：用一个二元组来表示：（控制对象，访问类型）。其中的控制对象表示系统中一切需要进行访问控制的资源。我们将引入一套完整的资源表示方法来对系统中出现的各类资源进行定义和引用（详见后述）。访问类型是指对于相应的受控对象的访问控制，如：读取、修改、删除等等。
3. 数据访问控制：如果不对数据访问加以控制，系统的安全性是得不到保证的，容易发生数据泄密事件。所以在权限中必须对对象可访问的数据进行按不同的等级给予加密保护。我们同样用一个二元组来表示：（控制对象，谓词）。
4. 字段访问控制：
权限最终可以组合成如下形式：（控制对象，访问类型，谓词）。

### 系统用户
角色：角色是指一个组织或任务中的工作或位置，它代表了一种资格、权利和责任。我们用ROLES表示一个角色集合。
用户：用户就是一个可以独立访问计算机系统中的数据或者用数据表示的其它资源的主体，我们用USERS表示一个用户集合。用户在一般情况下是指人。
用户委派：用户委派是USERS与ROLES之间的一个二元关系，我们用（u,r）来表示用户u被委派了一个角色r。
权限配置：权限配置是ROLES与PERMISSION之间的一个二元关系，我们用（r,p）来表示角色r拥有一个权限p。

# 安全管理需求分析
## 2.1. 角色与用户
角色由用户(这个是指合同中的甲方)自行定义，根据业务岗位不同可以定义多个角色。
登录系统，首先需要向系统申请注册，同一个用户只能在系统中登记一次。
用户是登录系统的楔子，角色是用户权限的基础。用户可以扮演多个角色。将某一角色授予某一用户时，权限不能超越该角色权限，但可以小于该角色权限。
## 2.2. 菜单控制
菜单与业务功能对应
## 2.3. 对象控制
对象是指应用系统窗口中的可视对象，如菜单项、按钮、下拉列表框、数据编辑控件及数据编辑控件的字段等。对象控制通过角色与用户授权来实现。
对象控制包括对对象属性的控制、可对数据编辑控件中的数据记录的维护权限：
## 2.4. 记录集控制
记录集的控制是通过**条件设置**来实现，因此，需要控制记录集的数据库表需要设置专门的记录集筛选字段，而筛选条件由用户根据岗位自进定义，建立过滤表，统一管理。
## 2.5. 权限分布管理
这块及时，对权限管理的管理。系统的权限管理比较复杂的情况下，那么就需要对权限管理进行管理。对部分权限管理工作进行细分。
# 3.1. 安全保护策略
> 对于系统的安全管理，其实是管理+技术的实现方式。这两种方式要结合使用，各种都应该去解决自己擅长的东西。不能说用管理的方式去解决技术问题，也不能用技术的问题去解决管理的问题。

## 安全保护措施
  1. 对象定义工具。
对象是指系统中各种功能模块、数据、界面元素（包括菜单、按钮等各种界面上能控制的控件）等，它们是主体能访问的各种对象。由于对象的机密程度不等，受到的保护程度亦有差别。系统中的对象均由程序员通过系统提供的对象定义工具事先定义好系统要控制的对象。系统也只能控制这些事先已定义好的对象，因此，对象定义是整个系统的核心步骤直接影响后面的各个安全控制环节。建议由开发程序员进行初始化配置。对象定义的包括如下几步：
      ○ 功能模块定义：系统中除部分公用的界面、公用功能模块外，其它均为业务功能模块是用户完成各自不同的业务功能的主要算途径，也是我们安全管理要保护的重点对象，所以我们必须对业务功能模块定义。有定义的功能模块对象我们就有可能组织权限根据用户需要完成的工作配置用户业务功能菜单，这也符合"最少特权策略"。
      ○ 界面元素控制：除了功能菜单要受到控制外，如要控制功能模块的界面元素其功能模块界面元素也需定义，大部分界面元素均包含有相关的业务功能操作，所以对相应操作的界面元素是进行定义是有必要的。
      ○ 数据信息控制：业务功能模块的大部分界面元素是显示和操作数据内容的基础，也是用户对读取数据和操作数据的主要途径，为了数据信息的安全有必要对这界面元素的操作数据予以采取安全保密措施。这就需要对这些界面元素定义相关的数据约束条件。
  2. 权限定义工具。
在定义好系统对象的前提下，定义对象的在不同情况的的访问类型，希望对象在不同情况下具有不同的访问类型，这就需要定义对象的权限。定义权限就是是定义对象访问控制和数据访问控制。为了表述方便我们对权限用一个三元组符号来表示P（o,t,p）,其中o 表示访问对象；t 表示访问类型；p 表示谓词。表示在谓词p为真时对于对象o可进行t类型的访问。权限定义系统安全管理基础步骤之一，只有给各种对象定义好访问的权限，才能给角色配置权限，基于角色管理才能成为可能。系统提供定义权限工具，请程序员根据实际需求定义对象的权限。
3.2.2.2. 角色定义与权限配置
  1. 角色定义。
基于角色的访问控制方法的思想就是把对用户的授权分成两部份，用角色来充当用户行驶权限的中介。这样，用户与角色之间以及角色与权限之间就形成了两个多对多的关系。系统提供角色定义工具允许用户根据自己的需要（职权、职位以及分担的权利和责任）定义相应的角色。角色之间有相应继承的关系，当一个角色r1继承另一个角色r2时，r1就自动拥有了r2的访问权限(表示r1->r2)。角色继承关系自然的反映了一个组织内部权利和责任的关系，为方便权限管理提供了帮助。角色继承关系提供了对已有角色的扩充和分类的手段，使定义新的角色可以在已有角色的基础上进行，扩充就是通过增加父角色的权限去定义子角色，分类通过不同子角色继承同一父角色来体现。另外还允许多继承，即一个角色继承多个父角色，多继承体现对角色的综合能力。
角色定义示流程图如下：
  2. 权限配置。
角色是一组访问权限的集合，一个用户可以是很多角色的成员，一个角色也可以有很多个权限，而一个权限也可以重复配置于多个角色。权限配置工作是组织角色的权限的工作步骤之一，只有角色具有相应的权限后用户委派才能具有实际意义。
权限配置流程图如下：
3.2.2.3. 用户、用户组定义
  1. 用户定义。
系统的最终使用者是用户，因此必须建立用户的鉴别机构，登记用户的身份信息。在系统中定义可登录的用户操作系统是系统安全管理所必须步骤，也是人与系统的接口。
  2. 用户组定义。
为了本系统适用于分散式权限管理，加入了用户组的概念，是指一群用户的集合。方便权限管理用户组也可以委派角色，当用户被加入用户组时自动对用户的所在用户组拥有的角色进行了委派。为了便于分散式权限管理系统同时还支持对部分组的权限进行下发方式处理，授权特定的用户对用户组的用户权限进行管理。
3.2.2.4. 权限审查
在授权完成后可检查登录用户所的拥有的能力表信息，审查给用户的权限是合适，如不合适可重新进行用户委派和收回部分权限的处理。目前系统只能以对用户组管理的模式对一个用户组内的用户可进行部分权限收回处理。
3.2.2.5. 用户鉴别机构
安全保护的首要问题是鉴别用户身份。目前有三种方法可用：第一、利用用户的物理特征（声波、指纹、相貌、签名）。这在理论是最可靠的，但由于物理特征可能随时间变化且记录尚欠成熟等原因，使该方法未能广泛应用。第二、利用用户特有的证件，如身份证、机器可读卡先考片，其缺点是证件可能被别人复制或冒用。第三、利用用户知道的某件能证明其身份的约定（如口令）。这是当前较为常用的方法。本系统采用第三种方法。
用户名称标识其它情况CHENDAGOOD… …… …… …… …
如上表所示是用户鉴别机构保存的一张登记有每个用户名称、标识和有关情况的表，表中的用户名通常是公开的，标识则是保密的，当用户要访问系统时，须首先把自已的名称和标识登记到系统中（即出示证件）。这时用户鉴别系统机构检查用户的标识是否与用表中的标识一致，是则认为用户身份己得到证实，否则认为是假冒，系统将拒绝用户要求执行的操作。口令是最常用的一种标识，通常由若干字母、数字组合而成。系统只允许用户连续两次或三次登记口令，如果都不对则要等待一段较长的时间才成重新登记，这种延长时间的方法能够有效的防止冒名者猜测口令的可能。
3.2.2.6. 访问控制机构
杜绝对系统非法访问主要方法是访问控制。用户系统的访问规则可以用访问规则表示，根据安全策略用访问规则给0用户授权。访问控制就是要处理怎样表达和核对访问规则的问题。从形式上来说，一条访问规则可以写成四元组的形式(u,o,t,p)可前已有权限表示形式重新表示为（u,P）。系统的访问控制分为模块级控制和界面元素级控制。
系统的访问控制
存贮和检查访问规则是访问控制机构须解决的部问题。本系统为考虑运行速度根据系统中角色、权限配置、用户委派等关系动态地的组成一张用户能力表保存在系统中根据上述配置信息改变由系统动态生成和保存。能力表（也称C-表）是存贮和核对访问规则的一种有效形式。能力表是面向主体的，用以说明主体能对那个访问对象执行何种操作。能力表的基本形式如下：
J(oi1,ti1,pi1)………..(oij,tij,pij)
其中Si表示第I个主体；j为Si可访问的数据对象的个数；(oi1,ti1,pi1)为访问权限。全部主体的能力表的集合即为系统的全部访问规则。当某个访问请求需进行生效检查时，则按访问请求的主体找到能力表逐项核对以决定其是否有效。
安全管理控制核心
安全管理控制核心是系统安全管理的核心控制部分，它在系统中控制整个系统的安全控制工作，由它决定系统是否启动安全管理，在什么情况下调用访问控制机构，根据情况编写访问规则，如何将已有的访问规则应用于控制，存贮访问规则。
4.1. 系统特点（自评）
安全管理系统核心思想是在**基于角色控制**思想的基础上提取改进而来的。
  1. 实现了系统开发过程中的职责分离，系统的安全管理部分被作为整个系统的核心控制部分，单独的被分离出来制定一些整个系统通用的安全准则。程序员在开发时不要过多的考虑程序安全性的问题只需要遵系统的安全准则即可，而是把主要精力花费在系统的业务功能上。
  2. 有效的利用系统已有的资源减少系统的冗余，使系统的条理更加清楚。对已有功能模块只需设置不同的特征参数和对各种界面元素实施不同的访问类型控制，就能产生不同控制效果不需程序员再进行编写程序的工作。
  3. 基于角色对用户组进行访问控制：对一组用户比对单个用户进行访问控制更加合理，用户组代表了具有相近工作性质的一组用户的集合，可以委派完成用户组工作的角色以控制用户组的权限范围（当然我们也可以把角色看成是我们系统中一个特定用户组）。同时支持角色的继承和多继承。通过改变用户的当前角色集就可以改变用户的权限，而改变某种角色所含的权限时又可以改变一组用户的权限，基于这种访问控制方式有3个方面的作用：
（1）简化了权限管理，避免直接在用户和数据之间进行授权和取消。研究表明，用户所具有的权限易于发生改变，而某种角色所对应的权限更加稳定；
（2）有利于合理划分职责，用户只有其所应具有权限，这样可以避免越权行为，有关用户组的关系描述正是对此的支持；
（3）防止权力滥用，敏感的工作分配给若干个不同的用户完成，需要合作的操作序列不能由单个用户完成。
  4. 支持动态地改变用户的权限：安全管理考虑了访问权限不是静态，而是动态的情况。所有对象的权限均用三元组来表示P（o,t,p）主体在系统中的访问规则用四元组来表示（s,o,t,p）。当产品系统使用工作流时，可通过产品平台与安全管理控制核心的接口，重新为编写访问规则，动态修改主体能力表。动态分配用户完成当前工作流环节所需的权限。
  5. 权限的相互关联：各种权限不是互相独立而是相互关联的，而且权限可以有感知其它用用户操作，这可以描述有关协同权限。功能例如在给数据编辑控件授权只读权限时，收回用户对数据插入和删除权限，该权限允许感知其它用户的操作，诸如某用户改变了数据等等。
  6. 提供方便的授权/取消机制和检查机制：只要进行简单的赋值操作即可完成授权，同时由角色分配规则和主体访问规则控制则指导模型式的应用。
  7. 用户之间的授权关系：依据角色指派关系，运行系统中的用户自身可以对角色进行管理，这提供了又一种动态改变用户权限的手段。通常，角色指派的权力都在系统中具有管理责任的用户手中。