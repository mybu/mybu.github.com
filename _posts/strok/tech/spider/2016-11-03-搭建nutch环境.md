---
layout: single
title: 搭建nutch工作环境
description: 工作中总结
tags: 搜索引擎技术
---

# 说明：
Nutch1.x从1.7版本开始不再提供完整的部署文件，只提供源代码文件及相关的build.xml文件,这就要求用户自己编译Nutch，而整个Nutch2.x版本都不提供编译完成的文件，所以想要学习Nutch2.2.1的功能，就必须自己手动编译文件。

# 下载源码、解压
1. ivy目录就是用来构建nutch，替代原来的bin目录

# 源码编译
1. ivy是一种构建技术，这也是我们自己编译nutch所必须解决的。
> sonar-ant-task-2.1.jar,这个是ivy所引用的jar包。
2. 在"ivy-resolve"任务一直停留：
> 这个是什么任务还不清楚：应该是自动构建所引用的其他包下载及构建。
> 但是这个任务一般正常情况下会停留5分钟左右，应该出现其他的提示。当然还要参考网络的状况。 
3. module not found: org.restlet.jse#org.restlet;2.0.5报错
>  Restlet是一个Java下的轻量级REST框架。它可用于实现任何种类的REST式系统，而不仅仅是REST式Web服务。通过使用REST设计风格模糊了Web站点和Web服务之间的界限，从而帮助开发人员构建Web应用。每一个主要的REST概念（REST concept）都有一个对应的Java类。你的REST化的Web设计和你的代码之间的映射是非常简单直接的。
     Restlet项目受到Servlet API、JSP（Java Server Pages）、HttpURLConnection及Struts等Web开发技术的影响。该项目的主要目标是：在提供同等功能的同时，尽量遵守Roy Fielding博士论文中所阐述的REST的目标。它的另一个主要目标是：提出一个既适于客户端应用又适于服务端的应用的、统一的Web视图。
    Restlet的思想是：HTTP客户端与HTTP服务器之间的差别，对架构来说无所谓。一个软件应可以既充当Web客户端又充当Web服务器，而无须采用两套完全不同的APIs。> 
很明显是依赖于restlet这个jar包，国外的构件库指向的地址是国外的地址，换个国内的仓库镜像就可以了。

4.如何验证是否安装成功了
> 通过运行bin/nutch命令，如果提示使用说明，就表示已经安装成功。 
> 在2.x的版本，使用runtime/local/bin下面的nutch或者crawl命令进行验证是否安装成功。

# nutch配置
> nutch的配置文件，有整体、默认的配置文件。那就是nutch-default.xml
> 像spring一样，配置文件有统一的入口.nutch-default.xml是统一的入口，还有其他的一些模块的配置文件。

**根据实用的思路，进行分析和记录**
1. 配置全文检索信息(lucene/solr),包括全文搜索及建索引
> solr:这个是建索引
> lucene:这个是全文搜索
2. 配置抽象存储层的信息(gora,就是制定存储层的意思)
> gora支持的存储方式是有好多种的，在gora的配置文件中需要配置好。
> 不论实际的存储使用什么，都需要搭建实际存储的数据库。
> 就像我们开发系统一样，使用oracle数据库，那么我们还需要进行配置。
3. 实际的存储。

